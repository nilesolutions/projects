$breakpoints: (
  'xs-phone': 320px,
  'phone': 480px,
  'tablet': 768px,
  'desktop': 1024px,
  'widescreen': 1270px
);

// keywords
$media-expressions: (
  'screen': 'screen',
  'print': 'print',
  'handheld': 'handheld',
  'landscape': '(orientation: landscape)',
  'portrait': '(orientation: portrait)',
  'retina2x': '(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)',
  'retina3x': '(-webkit-min-device-pixel-ratio: 2.5), (min-resolution: 240dpi)'
);

// ligatured operators ≥ ≤

@import 'vendors/include-media';
@import 'vendors/normalize';

@import 'base/variables';
@import 'base/functions';
@import 'base/mixins';
@import 'base/helpers';
@import 'base/reset';
@import 'base/typography';
@import 'base/forms';

@import 'vendors/steps';
@import 'vendors/address_finder_new';
@import 'vendors/jcf';

#wrapper {
  display:table-cell;
  margin:0 auto;
}

.container {
  max-width:1088px;
  margin:0 auto;
  padding:0 10px;
  @include media("≥tablet"){
    padding:0 16px;
  }
  @include media("<tablet") {
    max-width:320px;
  }
}

#header {
  position:absolute;
  left:0;
  right:0;
  top:0;
  padding:13px 0 4px;
  text-align:center;
  background:#fff;
  border-bottom:2px solid #edebeb;
  overflow:hidden;
  z-index:100;
  @include media("≥tablet"){
    padding:17px 0 5px;
  }

  .home-page & {
    padding:24px 0 0;
    text-align:left;
    background:none;
    border:none;
    @include media("≥tablet"){
      padding:46px 0;
    }
  }
}

.logo {
  display:block;
  margin:0 auto;
  font-size:23px;
  line-height:26px;
  font-weight:400;
  @include media("≥tablet"){
    font-size:30px;
    line-height:33px;
  }

  .home-page & {
    text-align:center;
    @include media("≥tablet"){
      float:left;
      text-align:left;
    }
  }

  a {
    display:inline-block;
    height:100%;
    margin:0;

    > * {
      display:inline-block;
      vertical-align:middle;
      color: #245577;
    }

    span {
      color: #5398c8;
    }
  }

  img {
    display:inline-block;
    width:32px;
    height:32px;
    margin:0 2px 4px -2px;
    @include media("≥tablet"){
      height:42px;
      width:41px;
      margin:0 -1px 4px 0;
    }
  }
}

.app-ext-box {
  display:none;
  @include media("≥tablet"){
    display:block;
    position:relative;
    float:right;
    margin: 10px 0 0 0;
    font-size:20px;
    line-height:23px;
    font-weight:500;
    text-transform:capitalize;
    color: $blue;
    &:after {
      content:'';
      position:absolute;
      left:-37px;
      top:-7px;
      @include img-retina(ico-time, png, 49px, 55px);
      width:49px;
      height:55px;
    }
  }

  span {
    display:inline-block;
    vertical-align:top;
  }

  .num {
    position:relative;
    font-size:35px;
    line-height:38px;
    font-weight:400;
    margin:-6px 3px 0 0;
    z-index:2;
  }

  .text {
    margin-left:10px;
  }
}

.btn {
  display:inline-block;
  vertical-align:top;
  min-width:288px;
  padding:18px 15px;
  font-size:24px;
  line-height:27px;
  color:#fff;
  text-align:center;
  background: $green;
  border-radius:30px;
  &:hover {
    background: $green + 20;
  }

  &.quote {
    padding-right:35px;

    span {
      display:inline-block;
      vertical-align:top;
      position:relative;
      &:after {
        content:'';
        position:absolute;
        right:-20px;
        width:12px;
        height:12px;
        top:54%;
        border-style:solid;
        border-width:0 0 2px 2px;
        border-color:#fff;
        transform: rotate(225deg);
        margin-top:-6px;
      }
    }
  }
}

.intro {
  @include img-retina(bg-intro-m, jpg, 320px, 590px);
  position:relative;
  padding:92px 0 115px;
  text-align:center;
  border-bottom:6px solid #e2e3e4;
  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.15) inset;
  background-size:cover !important;
  background-position:50% 100%;
  overflow:hidden;
  @include media("≥tablet"){
    padding:220px 0 150px;
    text-align:left;
    @include img-retina(bg-intro, png, 1900px, 763px);
  }
  @include media("≥desktop"){
    padding:249px 0 202px;
  }
  &.alt {
    padding-bottom:42px;
    @include media("≥tablet"){
      padding-bottom:150px;
    }
    @include media("≥desktop"){
      padding-bottom:202px;
    }
  }

  .container {
    position:relative;
  }

  .title-holder {
    @include media("≥tablet"){
      max-width:70%;
    }
    @include media("≥desktop"){
      max-width:60%;
    }
  }

  h1 {
    font-size:28px;
    line-height:34px;
    font-weight:400;
    color: #245577;
    margin:0 0 2px;
    letter-spacing:-0.7px;
    @include media("≥tablet"){
      font-size:50px;
      line-height:60px;
      margin:0 0 8px;
    }

    mark {
      background:none;
      padding:0;
      color: #38bf6b;
    }
  }

  h2 {
    font-size:19px;
    line-height:30px;
    font-weight:400;
    color: #3e6e85;
    margin:0 0 32px;
    @include media("≥tablet"){
      font-size:32px;
      line-height:40px;
      margin:0 0 49px;
    }
  }

  .btn-holder {
    position:relative;
    @include media("≥tablet"){
      max-width:290px;
    }

    &.alt {
      padding-top:128px;
    }
  }

  .btn {
    margin:0 0 6px;
    @include media("≥tablet"){
      margin:0 0 13px;
    }
  }

  .img-holder {
    position:absolute;
    right: -5%;
    bottom: -115px;
    max-width: 72.5%;
    @include media("≥tablet"){
      right: -11%;
      bottom: -202px;
      max-width: 65%;
    }

    img {
      display:block;
      max-width:232px;
      @include media("≥phone"){
        max-width:306px;
      }
      @include media("≥tablet"){
        max-width:100%;
      }
    }
  }

  .mark-text {
    position:relative;
    width:250px;
    margin:0 auto;
    font:400 17px/21px $add-ff-2;
    color:$blue;
    z-index:3;
    transform: translateX(-18px);
    &:before {
      @include img-retina(arrow-m, png, 19px, 61px);
      content:'';
      position:absolute;
      left:4px;
      top:-63px;
      width:19px;
      height:61px;
      @include media("≥tablet"){
        left:-72px;
        top:15px;
        width:72px;
        height:32px;
        @include img-retina(arrow, png, 72px, 32px);
      }
    }
    @include media("≥tablet"){
      position:absolute;
      width:182px;
      left:100%;
      bottom:-37px;
      transform:none;
    }
    @include media("≥desktop"){
      font-size:22px;
      line-height:24px;
      width:250px;
      bottom:0;
      left:calc(100% + 91px);
    }

    &.alt {
      position:absolute;
      bottom:auto;
      top: 19px;
      left: 24px;
      transform: none;
      &:before {
        transform: rotate(-2deg) scale(1, -1);
        left:-18px;
        top:33px;
        @include media("≥tablet"){
          left: -33px;
          top: 63px;
          width: 72px;
          height: 32px;
          transform: rotate(-72deg) scale(1, -1);
        }
      }
      @include media("≥tablet"){
        top:0;
        left:0;
      }
    }

    > span {
      position:relative;
      display:inline-block;
      transform:rotate(-8deg);
      margin-left:-95px;
      text-align:left;
      @include media("≥tablet"){
        margin-left:-18px;
      }
    }
  }

  .safe-text {
    margin:0 0 62px;
    @include media("≥tablet"){
      margin:0;
    }
    &.alt {
      margin:0;
    }
  }
}

.text-center {
  text-align:center;
}

.safe-text {
  font-size:11px;
  line-height:14px;
  color: #b3b2b2;

  > * {
    display:inline-block;
    vertical-align:middle;
  }

  img {
    margin:0 4px 0 0;
  }
}

.section {
  @extend %clearfix;
  padding:53px 0;
  background:#fbfcfc;
  @include media("≥tablet"){
    padding:73px 0;
  }
  &.blue {
    position:relative;
    background:$blue;

    .container {
      overflow:hidden;
    }
  }

  h2 {
    font-size:30px;
    line-height:36px;
    font-weight:400;
    color: #fefefe;
    margin:0 0 40px;
    @include media("≥tablet"){
      font-size:42px;
      line-height:55px;
      margin: 0 0 59px;
    }
    &.blue {
      color:$blue;
    }
  }
}

.advantages-list {
  margin:0 0 -21px;
  padding:0;
  list-style:none;
  font-size:15px;
  line-height:21px;
  letter-spacing:-0.5px;
  color:rgba(#fff,0.6);
  overflow:hidden;
  @include media("≥tablet"){
    margin:0 -42px -23px 0;
    font-size:16px;
    line-height:22px;
    letter-spacing:-6px;
  }
  @include media("≥widescreen"){
    font-size:18px;
    line-height:24px;
    margin:0 -62px -23px 0;
  }

  li {
    text-align:left;
    margin:0 0 23px;
    overflow:hidden;
    @include media("≥tablet"){
      display:inline-block;
      vertical-align:top;
      text-align:center;
      letter-spacing:0;
      width:50%;
      padding:0 57px 0 0;
      margin:0 0 20px;
    }
    @include media("≥desktop"){
      width:25%;
    }
  }

  .icon-holder {
    float:left;
    width:72px;
    margin:7px 5px 0 0;
    @include media("≥tablet"){
      @include v-align(59px,middle,after);
      float:none;
      width:100%;
      margin:0 0 30px;
    }
  }

  .text {
    overflow:hidden;
  }

  .title {
    font-size:20px;
    line-height:27px;
    font-weight:500;
    color:#fff;
    margin:0 0 1px;
    letter-spacing:0;
    @include media("≥tablet"){
      font-size:22px;
      margin:0 0 5px;
    }
    @include media("≥desktop"){
      min-height:54px;
    }
    @include media("≥widescreen"){
      min-height:0;
    }
  }
}

.box-down {
  position:absolute;
  left:50%;
  bottom:-21px;
  width:45px;
  height:45px;
  margin: 0 0 0 -22px;
  padding:27px 0 0;
  font-size:0;
  line-height:0;
  border-radius:100%;
  text-align:center;
  background:$blue;
  z-index:10;

  span {
    display:inline-block;
    vertical-align:bottom;
    width:10px;
    height:10px;
    border-style:solid;
    border-width:0 0 2px 2px;
    border-color:#fff;
    transform: rotate(315deg);
    margin-top:-7px;
  }
}

.chart-section.section {
  position:relative;
  padding:111px 0 44px;
  background:#fbfcfc;
  overflow:hidden;
  @include media("≥tablet"){
    padding:50px 0;
  }
  @include media("≥desktop"){
    padding:34px 0;
  }

  .container {
    position:relative;
  }

  .text-container {
    margin-top:-5px;
    @include img-retina(bg-chart, png, auto, auto);
    background-repeat: repeat;
    z-index:2;
    &:after {
      content:'';
      position:absolute;
      left:-406px;
      right:-406px;
      top:10px;
      bottom:-9999px;
      @include img-retina(bg-chart, png, auto, auto);
      background-repeat: repeat;
      z-index:-1;
    }
    @include media("≥phone"){
      margin-top:-136px;
    }
    @include media("≥tablet"){
      margin-top:-176px;
    }
    @include media("≥desktop"){
      margin-top:-258px;
    }
    @include media("≥widescreen"){
      margin-top:-347px;
    }
  }

  .text-box {
    padding:43px 0 29px;
    @include media("≥phone"){
      padding:15px 0 29px;
    }
    @include media("≥tablet"){
      float:left;
      max-width:61%;
      padding:0 0 50px;
      line-height:25px;
    }
  }

  h2 {
    margin:0 5% 27px;
    text-align:center;
    @include media("≥tablet"){
      text-align:left;
      margin:0 0 29px -3px;
    }
  }

  p {
    margin:0 0 39px;
    text-align:justify;
    @include media("≥tablet"){
      text-align:left;
    }
  }

  .text-center {
    @include media("≥tablet"){
      text-align:left;
    }
  }
}

.chart-img-box {
  text-align:center;
  position:relative;
  max-width:1900px;
  margin:0 auto;

  img {
    display:inline-block;
    vertical-align:top;
    max-width:100%;
    width:100%;
    @include media("≥phone"){
      max-width: 153.5%;
      margin: 0 0 0 -27%;
      width:auto;
    }
    @include media("≥desktop"){
      margin:0;
      max-width:152%;
      position:relative;
      left:50%;
      margin-left:-100%;
    }
    @include media("≥widescreen"){
      max-width:none;
    }
  }
}

.chart-text-holder {
  position:absolute;
  left:50%;
  top:143px;
  max-width:1253px;
  width:100%;
  transform:translateX(-50%);
  letter-spacing:-6px;
  @include media("≥phone"){
    top:160px;
  }
  @include media("≥tablet"){
    top:119px;
  }
  @include media("≥desktop"){
    top:170px;
  }
  @include media("≥widescreen"){
    top:199px;
  }
}

.chart-text {
  display:inline-block;
  vertical-align:top;
  width:25%;
  font-size:14px;
  line-height:16px;
  font-weight:600;
  color: #205173;
  letter-spacing:0;
  text-align:center;
  opacity:0;
  transition:opacity 0.45s ease 0.3s;
  @include media("≥tablet"){
    font-size:20px;
    line-height:23px;
  }
  &:first-child {
    @include media("≥desktop"){
      margin-top:-20px;
    }
    @include media("≥widescreen"){
      margin:0;
    }

    .price {
      margin:0 auto;
      @include media("≥desktop"){
        margin-bottom:11px;
      }
    }
  }
  &.green {
    color: #38bf6b;

    .price {
      @include img-retina(bg-chart-text-2-m, png, 100%, auto);
      @include media("≥tablet"){
        @include img-retina(bg-chart-text-2, png, 100%, auto);
      }
    }
  }
  &.chart-text-2 {
    margin-top:-19px;
    transition-delay:0.5s;
    @include media("≥tablet"){
      margin-top:-21px;
    }
    @include media("≥desktop"){
      margin-top:-35px;
    }
    @include media("≥widescreen"){
      margin-top:-25px;
    }
  }
  &.chart-text-3 {
    margin-top:-47px;
    transition-delay:0.7s;
    @include media("≥tablet"){
      margin-top:-54px;
    }
    @include media("≥desktop"){
      margin-top:-83px;
    }
  }
  &.chart-text-4 {
    margin-top:-93px;
    transition-delay:0.9s;
    @include media("≥phone"){
      margin-top:-79px;
    }
    @include media("≥tablet"){
      margin-top:-103px;
    }
    @include media("≥desktop"){
      margin-top:-153px;
    }
  }

  .price {
    width:80px;
    height:52px;
    padding:13px 3px 0;
    margin:0 auto 2px;
    font-size:15px;
    line-height:17px;
    font-weight:600;
    color:#fff;
    @include img-retina(bg-chart-text-m, png, 100%, auto);
    background-size:cover !important;
    @include media("≥tablet"){
      width:172px;
      height:91px;
      padding:25px 5px 0;
      font-size:30px;
      line-height:33px;
      @include img-retina(bg-chart-text, png, 100%, auto);
    }
  }
}

.in-viewport {

  .chart-text {
    opacity:1;
  }
}

.proposal-box {
  position:relative;
  float:right;
  width: 174px;
  height: 175px;
  margin:0 auto;
  padding:29px 0 0;
  font-size:13px;
  line-height:15px;
  font-weight:500;
  color: #245577;
  text-align:center;
  background-color: white;
  box-shadow: 0 5px 30px rgba(0, 0, 0, 0.35);
  border-radius:100%;
  z-index:2;
  @include media("≥tablet"){
    width:277px;
    height:277px;
    font-size:22px;
    line-height:25px;
    padding:34px 0 0;
    margin:-7px 3px 0 0;
  }
  @include media("≥desktop"){
    width:307px;
    height:307px;
    padding-top:50px;
    margin-top:-85px;
  }

  .text-1 {
    font-size:15px;
    line-height:18px;
    font-weight:600;
    text-transform:uppercase;
    @include media("≥tablet"){
      font-size:27px;
      line-height:30px;
    }
  }

  .text-2 {
    font-size:18px;
    line-height:20px;
    font-weight:600;
    text-transform:uppercase;
    @include media("≥tablet"){
      font-size:32px;
      line-height:35px;
    }
  }

  .text-3 {
    font-size:10px;
    line-height:12px;
    font-weight:500;
    @include media("≥tablet"){
      font-size:18px;
      line-height:21px;
    }
  }

  .num {
    display:inline-block;
    vertical-align:top;
    margin:-7px 0 -2px;
    font:600 63px/66px $add-ff;
    color: #5398c8;
    @include media("≥tablet"){
      font-size:110px;
      line-height:113px;
      margin:-9px 0 -2px;
    }
  }
}

.circle-figure {
  position:absolute;
  left:calc(100% - 213px);
  bottom:0;
  width: 587px;
  height: 460px;
  background: #5398c8;
  border: 7px solid white;
  border-radius:100%;
  z-index:1;
  transform:translateY(100%);
  @include media("≥tablet"){
    left:calc(100% - 338px);
    bottom:0;
    width: 1046px;
    height: 943px;
  }
}

.save-section.section {
  @include img-retina(bg-img-01-m, jpg, 100%, auto);
  background-size:cover !important;
  background-position:50% 100%;
  padding:61px 0 178px;
  @include media("≥tablet"){
    padding:74px 0 435px;
    @include img-retina(bg-img-01, jpg, 100%, auto);
  }
  @include media("≥desktop"){
    padding-bottom:452px;
  }

  .container {
    max-width:844px;
    @include media("≤767px"){
      text-align:justify;
    }
    @include media("<tablet") {
      max-width:320px;
    }
  }

  h2 {
    text-align:center;
    margin:0 0 30px;
    @include media("≥tablet"){
      margin:0 0 28px;
    }
  }

  p {
    margin:0 0 21px;
    @include media("≥tablet"){
      margin:0 0 27px;
    }
  }

  p + .text-center {
    a {
      margin-top:21px;
    }
  }
}

.step-form {
  min-height:100vh;
  padding:57px 10px;
  @include media("≥tablet"){
    padding:75px 0;
  }

  .btn {
    width:100%;
    border-radius:0;
    margin:0 0 10px;
    padding:25px 15px 21px;
    font-size:26px;
    line-height:29px;
    border:none;
  }

  .title {
    font-size:25px;
    line-height:31px;
    font-weight:400;
    color: $blue;
    margin:1px 0 10px;
    letter-spacing:-1px;
    @include media("≥tablet"){
      font-size:28px;
      margin-top:-7px;
    }
  }
}

.select-holder,
.form-control {
  margin:0 0 15px;
  overflow:hidden;
  &:last-child {
    margin:0;
  }
}

.ico-input-holder {
  position:relative;
  &:before {
    content:'';
    position:absolute;
    left:15px;
    top:50%;
    bottom:0;
    width:45px;
    @include img-retina(ico-sprite, png, 300px, 300px);
    transform:translateY(-50%);
    z-index:10;
    pointer-events:none;
  }
  &.select-holder {
    &:before {
      top:14px;
      left:15px;
      width:18px;
      height:19px;
      transform:none;
    }

    .success-icon {
      right:52px;
    }
  }
  &.birthdate_day {
    &:before {
      background-position:0 0;
    }
  }
  &.birthdate_month {
    &:before {
      background-position:-38px 0;
    }
  }
  &.birthdate_year {
    &:before {
      background-position:-76px 0;
    }
  }
  &.name {
    &:before {
      background-position:-114px 0;
      width:16px;
      height:19px;
    }
  }
  &.email {
    &:before {
      left:13px;
      top:53%;
      background-position:-150px 0;
      width:18px;
      height:16px;
    }
  }
  &.phone {
    &:before {
      left:17px;
      background-position:-188px 0;
      width: 12px;
      height: 18px;
    }
  }
  &.mobile {
    &:before {
      background-position:-220px 0;
      width: 18px;
      height: 19px;
    }
  }

  label {
    float:left;
    width: 45px;
    height: 45px;
    font-size:0;
    line-height:0;
    background-color: whitesmoke;
    border-style:solid;
    border-width:1px 0 1px 1px;
    border-color:#dad9d9;
  }

  input[type='text'],
  input[type='tel'],
  input[type='email'],
  input[type='search'],
  input[type='password'],
  //input[type='url'],
  // input[type='date'],
  textarea {
    width:calc(100% - 45px);
  }
}

label.label {
  float:left;
  width:calc(100% - 35px);
  margin-top:-4px;
  font:400 12px/18px $add-ff;
  color: #a3a1a1;
  @include media("≥tablet"){
    font-size:13px;
  }

  a {
    color: #a3a1a1;
    text-decoration:underline;
    &:hover {
      text-decoration:none;
    }
  }
}

.inline-check {
  @extend %clearfix;
}

.success-icon {
  position:absolute;
  right:15px;
  top:13px;
  opacity:0;
  width:21px;
  height:21px;
  @include img-retina(ico-sprite, png, 300px, 300px);
  background-position:-258px 0;
  z-index:-1;
  transition:all $animation-speed ease;
  border:none;
}

.success {

  .success-icon {
    opacity:1;
    z-index:1;
  }
}

#footer {
  height:1%;
  font-size:12px;
  line-height:20px;
  color:rgba(#fff,0.6);
  @include img-retina(bg-footer-02, png, 20px, 20px);
  background-repeat:repeat;
  display:table-footer-group;
  overflow:hidden;
  @include media("≥tablet"){
    font-size:14px;
    line-height:26px;
  }

  .container {
    @extend %clearfix;
  }

  .logo {
    float:none;
    margin:0 0 13px;
    @include media("≥tablet"){
      margin:0 0 17px;
    }

    a {
      > * {
        color:rgba(#fff,0.6);
      }
    }
  }

  a {
    color:rgba(#fff,0.6);
    &:hover {
      color:#fff;
    }
  }
}

#footer.footer {

  .logo {
    font-size:24px;
    line-height:29px;
    margin:0 0 4px;

    img {
      width:34px;
      height:34px;
    }
  }

  .panel {
    font-size:12px;
    line-height:16px;
    @include media("≥tablet"){
      font-size:13px;
    }
  }

  p {
    margin:0 0 8px;
  }
}

.panel {
  padding:45px 0 13px;
  font-size:13px;
  line-height:21px;
  text-align:justify;
  @include img-retina(bg-footer-01, png, 20px, 20px);
  background-repeat:repeat;
  @include media("≥tablet"){
    padding:66px 0 24px;
    font-size:15px;
    line-height:26px;
    text-align:left;
  }

  .footer & {
    padding:69px 0 50px;
    @include media("≥tablet"){
      padding:74px 0 60px;
    }
  }

  .nav {

    li {
      &:before {
        color:#565657;
      }
    }
  }
}

.bottom-box {
  padding:23px 0 7px;
  min-height:46px;
  @include media("≥tablet"){
    padding:30px 0 11px;
  }

  .footer & {
    padding:0;
  }

  .box {
    @extend %clearfix;
    text-align:center;
    @include media("≥tablet"){
      float:left;
      width:50%;
      text-align:left;
      &:nth-child(2) {
        text-align:right;
        padding-right:18px;
      }
    }
  }
}

.nav {
  margin:0 0 -5px;
  padding:0;
  list-style:none;
  overflow:hidden;
  @include media("≥tablet"){
    margin:0 0 -5px 5px;
  }

  li {
    display:inline-block;
    vertical-align:top;
    position:relative;
    padding:0 6px 5px;
    & + li {
      &:before {
        content:'|';
        position:absolute;
        left:-3px;
        top:0;
        color:#424646;
      }
    }
    @include media("≥tablet"){
      padding-left:8px;
    }
  }
}